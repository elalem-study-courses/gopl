// package description
package main

import (
	"fmt"
	"io"
	"io/ioutil"
)

type LimitReader struct {
	data  []byte
	loc   int
	limit int
}

func (l *LimitReader) Read(b []byte) (int, error) {
	n := copy(b, l.data[l.loc:l.limit])
	fmt.Printf("Read %d bytes\n", n)
	if n == 0 {
		return 0, io.EOF
	}
	l.loc += n
	return n, nil
}

func NewReader(in string, limit int) *LimitReader {
	return &LimitReader{data: []byte(in), limit: limit}
}

func main() {
	reader := NewReader("Hello world!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff!dfgkdfngkdfnkgnkdfnglkdfngkjdgjkbdfjkgbjksbdjfkbdsjkbfkdsjkbfjsdbjfbdsjkbfkjbsdffsdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff", 1000)
	in, _ := ioutil.ReadAll(reader)
	fmt.Printf("%s\n", in)
}
